webpackJsonp([10],{CZfn:function(t,e){},YWUw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("Dd8w"),i=n.n(o),l=n("NYxO"),a=n("BGi1"),r=n("D/cR"),s=n("YaEn"),c={computed:i()({},Object(l.c)({menuGetter:"menu/menuGetter"})),props:["isShow"],methods:i()({},Object(l.b)({actionMenuList:"menu/actionMenuList"}),{cancel:function(){this.form={title:"",pid:0,icon:"",type:1,url:"",status:1},this.isShow.flag=!1},changepid:function(){0==this.form.pid?this.form.type=1:this.form.type=2},add:function(){var t=this;Object(r.s)(this.form).then(function(e){200==e.data.code?(t.cancel(),t.actionMenuList(),Object(a.a)(e.data.msg)):(Object(a.b)(e.data.msg),t.cancel())})},getOne:function(t){var e=this;Object(r.t)(t).then(function(n){e.form=n.data.list,e.form.id=t})},edit:function(){var t=this;Object(r.g)(this.form).then(function(e){200==e.data.code?(Object(a.a)(e.data.msg),t.actionMenuList(),t.cancel()):Object(a.b)(e.data.msg)})}}),data:function(){return{dialogFormVisible:!0,form:{title:"",pid:0,icon:"",type:1,url:"",status:1},icon:["el-icon-platform-eleme","el-icon-eleme","el-icon-user-solid","el-icon-s-unfold"],childrenRouter:s.a}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:t.isShow.edit?"添加菜单":"修改菜单",visible:t.isShow.flag},on:{"update:visible":function(e){return t.$set(t.isShow,"flag",e)}}},[n("el-form",{ref:"form",attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[n("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"上级菜单"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changepid},model:{value:t.form.pid,callback:function(e){t.$set(t.form,"pid",e)},expression:"form.pid"}},[n("el-option",{attrs:{label:"顶级菜单",value:0}}),t._v(" "),t._l(t.menuGetter,function(t){return n("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})],2)],1),t._v(" "),n("el-form-item",{attrs:{label:"菜单类型"}},[n("el-radio",{attrs:{label:1,disabled:""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("目录")]),t._v(" "),n("el-radio",{attrs:{label:2,disabled:""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("菜单")])],1),t._v(" "),1==t.form.type?n("el-form-item",{attrs:{label:"菜单图标",prop:"region"}},[n("el-select",{attrs:{placeholder:"请选择图标"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}},t._l(t.icon,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}},[n("i",{class:t,staticStyle:{fontsize:"18px"}})])}),1)],1):n("el-form-item",{attrs:{label:"菜单地址",prop:"region"}},[n("el-select",{attrs:{placeholder:"请选择菜单地址"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}},t._l(t.childrenRouter,function(t){return n("el-option",{key:t.path,attrs:{label:t.name,value:t.path}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"状态",prop:"delivery"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){return t.cancel()}}},[t._v("取 消")]),t._v(" "),t.isShow.edit?n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add()}}},[t._v("添 加")]):n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.edit()}}},[t._v("修 改")])],1)],1)],1)},staticRenderFns:[]},d=n("VU/8")(c,u,!1,null,null,null).exports,f={computed:i()({},Object(l.c)({menuGetter:"menu/menuGetter"})),methods:i()({},Object(l.b)({actionMenuList:"menu/actionMenuList"}),{del:function(t){var e=this;Object(r.f)(t).then(function(t){200==t.data.code?(Object(a.a)(t.data.msg),e.actionMenuList()):Object(a.b)(t.data.msg)})},edit:function(t){this.$emit("listedit",t)}}),data:function(){return{flag:!0}},mounted:function(){this.actionMenuList()}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"listmenu"},[n("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.menuGetter,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[n("el-table-column",{attrs:{prop:"id",label:"菜单编号",sortable:"",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title",label:"菜单名称",sortable:"",width:"300"}}),t._v(" "),n("el-table-column",{attrs:{prop:"icon",label:"菜单图标",sortable:"",width:"300"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("i",{class:t.row.icon})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"url",label:"菜单地址",sortable:"",width:"300"}}),t._v(" "),n("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[1==e.row.status?n("el-button",{attrs:{type:"primary",plain:""}},[t._v("启用")]):n("el-button",{attrs:{type:"info",plain:""}},[t._v("禁用")]),t._v(" "),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(n){return t.edit(e.row.id)}}},[t._v("编辑")]),t._v(" "),n("delbutton",{on:{delbtn:function(n){return t.del(e.row.id)}}})],1)]}}])})],1)],1)},staticRenderFns:[]};var p={components:{menuAdd:d,menuList:n("VU/8")(f,m,!1,function(t){n("a4fI")},null,null).exports},methods:{addfunction:function(){this.isShow.flag=!0,this.isShow.edit=!0},isMenuEdit:function(t){this.isShow.edit=!1,this.isShow.flag=!0,this.$refs.one.getOne(t)}},data:function(){return{isShow:{flag:!1,edit:!0}}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu"},[n("menu-list",{on:{listedit:t.isMenuEdit}}),t._v(" "),n("addbuttom",{on:{addnutton:t.addfunction}}),t._v(" "),n("menu-add",{ref:"one",attrs:{isShow:t.isShow},model:{value:t.isShow.flag,callback:function(e){t.$set(t.isShow,"flag",e)},expression:"isShow.flag"}})],1)},staticRenderFns:[]};var h=n("VU/8")(p,b,!1,function(t){n("CZfn")},"data-v-1267d42b",null);e.default=h.exports},a4fI:function(t,e){}});
//# sourceMappingURL=10.0bc63df89cdb1b161c53.js.map