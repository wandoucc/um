webpackJsonp([9],{"3d1t":function(t,e){},F9vl:function(t,e){},OyAl:function(t,e){},gn8i:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("mvHQ"),r=n.n(o),i=n("Dd8w"),s=n.n(i),a=n("D/cR"),l=n("BGi1"),c=n("NYxO"),d={props:["isShow"],data:function(){return{form:{rolename:"",status:1,menus:"[]"},defaultProps:{children:"children",label:"title"}}},methods:s()({},Object(c.b)({actionrole:"role/actionrole",actionMenuList:"menu/actionMenuList"}),{clear:function(){this.form={rolename:"",status:1,menus:"[]"},this.$refs.tree.setCheckedKeys([])},cancel:function(){this.isShow.flag=!1,this.clear()},add:function(){var t=this;this.form.menus=r()(this.$refs.tree.getCheckedKeys()),Object(a.u)(this.form).then(function(e){200==e.data.code?(Object(l.a)(e.data.msg),t.isShow.flag=!1,t.clear(),t.actionrole()):(Object(l.b)(e.data.msg),t.isShow.flag=!1,t.clear())})},getOne:function(t){var e=this;Object(a.y)(t).then(function(n){e.$refs.tree.setCheckedKeys(JSON.parse(n.data.list.menus)),e.form=n.data.list,e.form.id=t})},edit:function(){var t=this;this.form.menus=r()(this.$refs.tree.getCheckedKeys()),Object(a.w)(this.form).then(function(e){200==e.data.code?(Object(l.a)(e.data.msg),t.isShow.flag=!1,t.clear(),t.actionrole()):(Object(l.b)(e.data.msg),t.isShow.flag=!1,t.clear())})}}),computed:s()({},Object(c.c)({gettersrole:"role/gettersrole",menuGetter:"menu/menuGetter"})),mounted:function(){this.actionMenuList()}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:t.isShow.edit?"添加角色":"修改角色",visible:t.isShow.flag},on:{"update:visible":function(e){return t.$set(t.isShow,"flag",e)}}},[n("el-form",{ref:"form",attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"角色名称"}},[n("el-input",{model:{value:t.form.rolename,callback:function(e){t.$set(t.form,"rolename",e)},expression:"form.rolename"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"角色权限"}},[n("el-tree",{ref:"tree",attrs:{data:t.menuGetter,"show-checkbox":"","node-key":"id",props:t.defaultProps}})],1),t._v(" "),n("el-form-item",{attrs:{label:"状态",prop:"delivery"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){return t.cancel()}}},[t._v("取 消")]),t._v(" "),t.isShow.edit?n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add()}}},[t._v("添 加")]):n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.edit()}}},[t._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var f=n("VU/8")(d,u,!1,function(t){n("3d1t")},null,null).exports,h={computed:s()({},Object(c.c)({gettersrole:"role/gettersrole"})),methods:s()({},Object(c.b)({actionrole:"role/actionrole"}),{del:function(t){var e=this;Object(a.v)(t).then(function(t){200==t.data.code?(Object(l.a)(t.data.msg),e.actionrole()):Object(l.b)(t.data.msg)})},edit:function(t){this.$emit("delid",t)}}),mounted:function(){this.actionrole()}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"listmenu"},[n("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.gettersrole,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[n("el-table-column",{attrs:{prop:"id",label:"角色编号",sortable:"",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"rolename",label:"角色名称",sortable:"",width:"300"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[1==e.row.status?n("el-button",{attrs:{type:"primary",plain:""}},[t._v("启用")]):n("el-button",{attrs:{type:"info",plain:""}},[t._v("禁用")]),t._v(" "),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(n){return t.edit(e.row.id)}}},[t._v("编辑")]),t._v(" "),n("delbutton",{on:{delbtn:function(n){return t.del(e.row.id)}}})],1)]}}])})],1)],1)},staticRenderFns:[]};var b={data:function(){return{isShow:{flag:!1,edit:!0}}},components:{add:f,list:n("VU/8")(h,m,!1,function(t){n("F9vl")},null,null).exports},methods:{roleder:function(t){this.isShow.flag=!0,this.isShow.edit=!1,this.$refs.one.getOne(t)},add:function(){this.isShow.flag=!0,this.isShow.edit=!0}}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"roles"},[e("list",{on:{delid:this.roleder}}),this._v(" "),e("addbuttom",{on:{addnutton:this.add}}),this._v(" "),e("add",{ref:"one",attrs:{isShow:this.isShow}})],1)},staticRenderFns:[]};var p=n("VU/8")(b,v,!1,function(t){n("OyAl")},"data-v-002ac19a",null);e.default=p.exports}});
//# sourceMappingURL=9.fbc74bf4d60140c3eae8.js.map